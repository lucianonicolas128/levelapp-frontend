
  <!-- SECCION BODY -->
  <div class="container-fluid">
    
    <!-- FILTRADO DE VENTAS -->
    <div class="row ml-2 my-2">
      <h6 class="mr-2 mt-2">Filtrar ventas: </h6>
      <div class="btn-group btn-group-toggle" data-toggle="buttons">
        <label class="btn btn-sm btn-success active">
          <input (click)="actualizarFiltrado('todo')" type="radio" name="todo" id="option1" autocomplete="off" checked> Todas
        </label>
        <label class="btn btn-sm btn-danger">
          <input (click)="actualizarFiltrado('sinEntregar')" type="radio" name="sinEntregar" id="option2" autocomplete="off"> Sin entregar
        </label>
      </div>
    </div>
    <!-- FIN: FILTRADO DE VENTAS -->

    <table class="table">
      <thead class="thead-dark">
        <tr>
          <th scope="col-1">Fecha</th>
          <th scope="col">Cliente</th>
          <th scope="col">Pedido</th>
          <th scope="col">Monto</th>
          <th scope="col">Entregado?</th>
          <th scope="col">Estado</th>
          <th></th>
        </tr>
      </thead>

      <div *ngIf="!ventas " class="text-center mt-4">
        <div class="spinner-grow text-info" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>

      <!-- FILTRO TODAS LAS VENTAS -->
      <tbody *ngIf="filtrado == 'todo'">
        <tr *ngFor="let venta of ventas">

          <td scope="row" class="font-weight-normal text-primary">{{venta.fecha}}</td>
          <td id="nombreCliente" class="font-weight-normal" >{{venta.cliente}}</td>
          <td class="font-weight-normal" >{{venta.pedido}}</td>
          <td class="font-weight-bold">${{venta.monto}}</td>
          <td (click)="setEntrega(venta)">
            <span *ngIf="!venta.entregado" class="badge badge-danger">
              Sin entregar
            </span>
            <span *ngIf="venta.entregado" class="badge badge-success">
              Entregado
            </span>
          </td>
          <td>
            <i class="fas fa-eye ml-2 icon-action" [routerLink]="['/venta', venta._id]"></i>
            <i class="fas fa-edit ml-1"  [routerLink]="['/editar-venta', venta._id]" data-toggle="modal" data-target="#modalEditarVenta"></i>
            <!-- <i class="fas fa-edit ml-1" (click)="editVenta(venta._id)" data-toggle="modal" data-target="#modalEditarVenta"></i> -->
            <i class="fas fa-trash-alt ml-1" (click)="deleteSale(venta._id)"></i>

          </td>
        </tr>
      </tbody>
      <!-- FIN DE: FILTRO TODAS LAS VENTAS -->

      <!-- FILTRO VENTAS SIN ENTREGAR -->
      <tbody *ngIf="filtrado == 'sinEntregar'">
        <tr *ngFor="let venta of ventaSinEntregar" >

          <td scope="row" class="font-weight-normal text-primary">{{venta.fecha}}</td>
          <td id="nombreCliente" class="font-weight-normal" >{{venta.cliente}}</td>
          <td class="font-weight-normal" >{{venta.pedido}}</td>
          <td class="font-weight-bold">${{venta.monto}}</td>
          <td  (click)="setEntrega(venta)">
            <span *ngIf="!venta.entregado" class="badge badge-danger">
              Sin entregar
            </span>
            <span *ngIf="venta.entregado" class="badge badge-success">
              Entregado
            </span>
          </td>
          <td>
            <i class="fas fa-eye ml-2 icon-action" [routerLink]="['/venta', venta._id]"></i>
            <i class="fas fa-edit ml-1"  [routerLink]="['/editar-venta', venta._id]" data-toggle="modal" data-target="#modalEditarVenta"></i>
            <i class="fas fa-trash-alt ml-1" (click)="deleteSale(venta._id)"></i>

          </td>
      </tbody>
      <!-- FIN DE: FILTRO VENTAS SIN ENTREGAR -->
    </table>
  </div>
  <!-- FIN: SECCION BODY -->

  <!-- MODAL PARA AGREGAR VENTA -->
  <div class="modal fade " id="modalAgregarVenta" tabindex="-1" role="dialog" aria-labelledby="exampleModal3Label" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModal3Label">Agregar nueva venta</h5>
          <button (click)="ngOnInit()" type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <app-addventa></app-addventa>
        </div>
      </div>
    </div>
  </div>
  <!-- FIN: MODAL PARA AGREGAR VENTA -->



  <!-- MODAL PARA EDITAR VENTA -->
  <div (click)="ngOnInit()"  class="modal fade " id="modalEditarVenta" tabindex="-1" role="dialog" aria-labelledby="exampleModal3Label" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModal3Label">Agregar nueva venta</h5>
          <button (click)="ngOnInit()" type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <app-addventa></app-addventa>
        </div>
      </div>
    </div>
  </div>
  <!-- FIN: MODAL PARA EDITAR VENTA -->

  
  <!-- MODAL PARA DETALLE VENTA -->
  <div (click)="ngOnInit()"  class="modal fade " id="modalEditarVenta" tabindex="-1" role="dialog" aria-labelledby="exampleModal3Label" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModal3Label">Detalle venta</h5>
          <button (click)="ngOnInit()" type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <app-detailventa></app-detailventa>
        </div>
      </div>
    </div>
  </div>
  <!-- FIN: MODAL PARA DETALLE VENTA -->

